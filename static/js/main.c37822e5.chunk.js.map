{"version":3,"sources":["blank-white.png","index.js"],"names":["module","exports","jimp","require","src","PixelateSlider","className","htmlFor","this","props","value","type","min","max","id","onChange","React","Component","ThresholdSlider","DisplayImg","picture","SubmitButton","onClick","Editor","handlePixelChange","i","setState","pixelValue","target","handleThresholdChange","thresholdValue","handleButtonClick","jimpCrop","state","myRef","createRef","onDrop","bind","jimpResize","withIcon","buttonText","label","fileContainerStyle","backgroundColor","singleImage","imgExtension","maxFileSize","path","read","err","image","resize","getBase64","Jimp","MIME_PNG","data","crop","console","log","URL","createObjectURL","length","undefined","renderFinalImage","renderSubmitButton","renderImageUploader","renderPixelateSlider","renderThresholdSlider","App","crossorigin","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c37822e5.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAABQ2lDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAzMDGwAsUVktMLi5wDAjwAbIZYDQq+HaNgRFEX9YFmaU2/2WwQG6jpPj19cItao90MdWjAK6U1OJkIP0HiNOSC4pKGBgYU4Bs5fKSAhC7A8gWKQI6CsieA2KnQ9gbQOwkCPsIWE1IkDOQfQPIFkjOSASawfgCyNZJQhJPR2JD7QUBHhdXHx+FACNzQ0sPAs4lHZSkVpSAaOf8gsqizPSMEgVHYCilKnjmJevpKBgZGBkwMIDCHKL68w1wWDKKcSDEUtoZGIy1gIJcCLGsJwwMe6YzMAieQoipZwO9ZcfAcCCyILEoEe4Axm8sxWnGRhA293YGBtZp//9/DmdgYNdkYPh7/f//39v///+7jIGB+RZQ7zcAUkldtNckLkoAAABsZVhJZk1NACoAAAAIAAQBGgAFAAAAAQAAAD4BGwAFAAAAAQAAAEYBKAADAAAAAQACAACHaQAEAAAAAQAAAE4AAAAAAAAASAAAAAEAAABIAAAAAQACoAIABAAAAAEAAABQoAMABAAAAAEAAABQAAAAAELTmLAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFjSURBVHgB7dCxDYBADMXQwCLsvxVMckfp9lw7UqTfuHnXWuudmef/7lzgu8+bCgoESA2xAxRoTAKkhtgBCjQmAVJD7AAFGpMAqSF2gAKNSYDUEDtAgcYkQGqIHaBAYxIgNcQOUKAxCZAaYgco0JgESA2xAxRoTAKkhtgBCjQmAVJD7AAFGpMAqSF2gAKNSYDUEDtAgcYkQGqIHaBAYxIgNcQOUKAxCZAaYgco0JgESA2xAxRoTAKkhtgBCjQmAVJD7AAFGpMAqSF2gAKNSYDUEDtAgcYkQGqIHaBAYxIgNcQOUKAxCZAaYgco0JgESA2xAxRoTAKkhtgBCjQmAVJD7AAFGpMAqSF2gAKNSYDUEDtAgcYkQGqIHaBAYxIgNcQOUKAxCZAaYgco0JgESA2xAxRoTAKkhtgBCjQmAVJD7AAFGpMAqSF2gAKNSYDUEDtAgcYkQGqIHaBAYxIgNcQOUKAx2ZEIBX2T4E51AAAAAElFTkSuQmCC\"","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Pixelify } from \"react-pixelify\";\nimport ProcessImage from 'react-imgpro';\nimport ImageUploader from 'react-images-upload';\nimport Jimp from 'jimp/es';\n\nvar jimp = require('jimp');\n\nvar src = require(\"./blank-white.png\");\nvar imgFinal = \"https://www.dropbox.com/s/7d2rk5cqr5hcr4c/_CC_M_v1.bmp?dl=0\";\n\nclass PixelateSlider extends React.Component{\n  render() {\n    return (\n      <div className=\"my-5\">\n        <label htmlFor=\"myRange1\">Pixelation: {this.props.value}</label>\n        <input\n          type=\"range\" min=\"0\" max=\"30\" className=\"slider\" id=\"myRange1\"\n          onChange={this.props.onChange}\n        />\n      </div>\n    );\n  }\n}\n\nclass ThresholdSlider extends React.Component{\n  render() {\n    return (\n      <div className=\"my-5\">\n        <label htmlFor=\"myRange2\">Threshold: {this.props.value}</label>\n        <input\n          type=\"range\" min=\"0\" max=\"30\" className=\"slider\" id=\"myRange2\"\n          onChange={this.props.onChange}\n        />\n      </div>\n    );\n  }\n}\n\nclass DisplayImg extends React.Component{\n  render(){\n    return(\n      <div>\n        <img src={this.props.picture} />\n      </div>\n    )\n  }\n}\n\nclass SubmitButton extends React.Component{\n  render(){\n    return(\n      <button onClick={() => this.props.onClick()}>Resize</button>\n    )\n  }\n}\n\nclass Editor extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      //values for pixelization and posterize alteration\n      pixelValue: 0,\n      thresholdValue: 0,\n      //value that holds the path to default image, then the base64 data of render\n      picture: src,\n    };\n    this.myRef = React.createRef();\n    this.onDrop = this.onDrop.bind(this);\n    this.jimpResize = this.jimpResize.bind(this);\n  }\n\n\n  handlePixelChange = (i) => {\n    this.setState({pixelValue: i.target.value});\n  }\n\n  handleThresholdChange = (i) => {\n    this.setState({thresholdValue: i.target.value});\n  }\n\n  handleButtonClick = (i) => {\n    this.jimpCrop(src);\n  }\n\n  renderPixelateSlider(){\n    return (\n      <PixelateSlider\n        value={this.state.pixelValue}\n        onChange={this.handlePixelChange}\n      />\n    );\n  }\n\n  renderThresholdSlider(){\n    return (\n      <ThresholdSlider\n        value={this.state.thresholdValue}\n        onChange={this.handleThresholdChange}\n      />\n    );\n  }\n\n  renderFinalImage(){\n    return (\n      <div>\n        <DisplayImg\n          picture={this.state.picture}\n        />\n      </div>\n    )\n  }\n\n  renderSubmitButton(i){\n    return(\n      <SubmitButton\n        onClick={this.handleButtonClick}\n      />\n    )\n  }\n\n  renderImageUploader(){\n    return(\n      <ImageUploader\n        withIcon={true}\n        buttonText='Choose image'\n        label=\"Max file size: 5mb, Filetypes accepted: .bmp | .jpg | .png\"\n        fileContainerStyle={{backgroundColor: \"grey\"}}\n        singleImage={true}\n        onChange={this.onDrop}\n        imgExtension={['.jpg', '.gif', '.png', '.bmp']}\n        maxFileSize={5242880}\n      />\n    )\n  }\n\n\n  jimpResize(path){\n    jimp.read(path, function(err, image) {\n      image.resize(800,10);\n      image.getBase64(Jimp.MIME_PNG, function(err, data){\n        this.setState({\n          picture: data,\n        });\n      }.bind(this));\n    }.bind(this));\n  }\n\n  jimpCrop(path){\n    jimp.read(path, function(err, image) {\n      image.crop(0,0,20,20);\n      image.getBase64(Jimp.MIME_PNG, function(err, data){\n        this.setState({\n          picture: data,\n        });\n      }.bind(this));\n    }.bind(this));\n  }\n\n  onImageChange(i){\n    console.log(this.state.picture);\n  }\n\n  onDrop(picture){\n    //pull most recently uploaded picture from current session\n    this.setState({\n      picture: URL.createObjectURL(picture[picture.length - 1]),\n    });\n    //console.log(picture[picture.length - 1]);\n    if (picture[picture.length - 1] != undefined){\n      src = URL.createObjectURL(picture[picture.length - 1]);\n    }\n    //console.log(this.jimpResize(URL.createObjectURL(picture[picture.length - 1])));\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n        </div>\n        <div>\n          {this.renderFinalImage()}\n          {this.renderSubmitButton()}\n        </div>\n        <div>\n          {this.renderImageUploader()}\n        </div>\n        <div className=\"hide\">\n          {this.renderPixelateSlider()}\n          {this.renderThresholdSlider()}\n        </div>\n      </div>\n    );\n  }\n\n  //take \"Pixelify\" object, return div with pixelated image\n  /*\n  pixelateImage(i){\n    if (i != undefined){\n      imgFinal = i.canvas.toDataURL();\n    }\n\n    return (\n      <div>\n      <Pixelify\n      src={src}\n      centered={true}\n      pixelSize={this.state.pixelValue}\n      ref={this.myRef}\n      />\n      <div>{this.makeReference(this.myRef.current)}</div>\n      </div>\n    )\n  }\n  //helper function to create reference image within DOM element\n  makeReference(i){\n    if (i != undefined){\n      //console.log(i);\n      imgFinal = i.canvas.toDataURL();\n    }\n  }\n  */\n}\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"app-img\">\n          <Editor />\n        </div>\n        <div className=\"img-fields\">\n          <div>\n            <img src={\"https://www.dropbox.com/s/7d2rk5cqr5hcr4c/_CC_M_v1.bmp?dl=0\"} crossorigin=\"anonymous\"/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// ======================================\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}